const dilemas=[{pergunta:"Mentirias para proteger um amigo de ser preso injustamente?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Sacrificarias uma pessoa para salvar cinco num acidente inevitável?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Roubarias medicamentos para salvar alguém que não os pode pagar?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Mentirias a uma criança sobre a morte de um familiar?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Farias batota num teste importante para entrares na universidade?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Aceitarias dinheiro com origem duvidosa para ajudar a tua família?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Trocarias a verdade por paz numa discussão familiar?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Davas informações falsas à polícia para proteger alguém inocente?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Aceitarias a culpa por algo que não fizeste para proteger outro?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Escondias a verdade num relatório médico para não alarmar o paciente?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Ajudavas um criminoso a fugir se ele estivesse arrependido?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Invadias a privacidade de alguém para impedir um crime?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Fingias concordar com algo que achas errado para manter o teu emprego?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Farias um pequeno mal se isso evitasse um grande desastre?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Negavas ajuda a um desconhecido se estivesses com pressa?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Mentirias no currículo para conseguires o trabalho que queres?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Calavas-te sobre um erro grave no trabalho para proteger a equipa?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Usavas imagens de alguém sem permissão por uma boa causa?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Apontavas o culpado verdadeiro mesmo que fosse um amigo próximo?",respostas:["Sim","Não"],etica:["kant","mill"]},{pergunta:"Ajudavas alguém só porque ias receber algo em troca?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Dizias a verdade mesmo sabendo que ias magoar alguém?",respostas:["Sim","Não"],etica:["kant","mill"]},{pergunta:"Recusavas fazer algo ilegal mesmo sabendo que ajudaria muita gente?",respostas:["Sim","Não"],etica:["kant","mill"]},{pergunta:"Aceitavas um emprego que sabes que explora trabalhadores para garantir o sustento da tua família?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Deixarias de cumprir uma promessa para evitar um grande sofrimento a terceiros?",respostas:["Sim","Não"],etica:["mill","kant"]},{pergunta:"Intervéns numa situação de conflito mesmo que ponha a tua segurança em risco?",respostas:["Sim","Não"],etica:["kant","mill"]}];let indice=0;let pontos={kant:0,mill:0};let chart;const questionEl=document.getElementById('question');const btn1=document.getElementById('btn1');const btn2=document.getElementById('btn2');const progressBar=document.getElementById('progressBar');const game=document.getElementById('game');const resultEl=document.getElementById('result');const restartBtn=document.getElementById('restartBtn');restartBtn.addEventListener('click',reiniciarJogo);function mostrarDilema(){if(indice>=dilemas.length){atualizarProgresso(!0);mostrarResultado();return}
const d=dilemas[indice];questionEl.textContent=d.pergunta;const ordem=Math.random()<0.5?[0,1]:[1,0];btn1.textContent=d.respostas[ordem[0]];btn2.textContent=d.respostas[ordem[1]];btn1.onclick=()=>escolher(ordem[0]);btn2.onclick=()=>escolher(ordem[1]);atualizarProgresso()}
function escolher(opcao){const d=dilemas[indice];pontos[d.etica[opcao]]++;indice++;mostrarDilema()}
function atualizarProgresso(completo=!1){const progresso=completo?100:(indice/dilemas.length)*100;progressBar.style.width=progresso+'%'}
function mostrarResultado(){game.style.display='none';restartBtn.style.display='inline-block';if(pontos.kant>pontos.mill){resultEl.textContent="Seguiste mais a ética de Kant"}else if(pontos.mill>pontos.kant){resultEl.textContent="Seguiste mais a ética de Mill"}else{resultEl.textContent="Equilibraste as éticas de Kant e Mill"}
const ctx=document.getElementById('resultChart').getContext('2d');if(chart)chart.destroy();chart=new Chart(ctx,{type:'bar',data:{labels:['Kant','Mill'],datasets:[{label:'Pontuação',data:[pontos.kant,pontos.mill],backgroundColor:['#3f51b5','#4caf50']}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,precision:0}}}})}
function reiniciarJogo(){indice=0;pontos={kant:0,mill:0};game.style.display='block';resultEl.textContent='';progressBar.style.width='0%';restartBtn.style.display='none';if(chart)chart.destroy();mostrarDilema()}
mostrarDilema()
